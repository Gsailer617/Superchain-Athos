<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flash Loan Arbitrage Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100">
    <div class="min-h-screen">
        <!-- Header -->
        <header class="bg-white shadow">
            <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
                <div class="flex flex-col space-y-4 md:flex-row md:justify-between md:items-center">
                    <h1 class="text-3xl font-bold text-gray-900">Flash Loan Arbitrage Monitor</h1>
                    <div class="flex flex-wrap gap-4">
                        <!-- Timeframe Selector -->
                        <select id="timeframe-selector" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            <option value="1h">Last Hour</option>
                            <option value="24h" selected>Last 24 Hours</option>
                            <option value="7d">Last 7 Days</option>
                            <option value="30d">Last 30 Days</option>
                        </select>
                        
                        <!-- Pair Filter -->
                        <select id="pair-filter" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            <option value="all">All Pairs</option>
                        </select>

                        <!-- Metric Selector -->
                        <select id="metric-selector" multiple class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            <option value="profit" selected>Profit</option>
                            <option value="volume" selected>Volume</option>
                            <option value="gas" selected>Gas</option>
                            <option value="performance">Performance</option>
                            <option value="liquidity">Liquidity</option>
                            <option value="slippage">Slippage</option>
                            <option value="profitDistribution">Profit Distribution</option>
                            <option value="correlation">Token Correlation</option>
                            <option value="marketDepth">Market Depth</option>
                        </select>

                        <!-- Refresh Controls -->
                        <div class="flex items-center space-x-2">
                            <select id="refresh-rate" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                                <option value="5000">5s</option>
                                <option value="15000" selected>15s</option>
                                <option value="30000">30s</option>
                                <option value="60000">1m</option>
                            </select>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" id="auto-refresh" checked class="rounded text-indigo-600 focus:ring-indigo-500">
                                <span class="text-sm text-gray-700">Auto-refresh</span>
                            </label>
                        </div>

                        <!-- Custom Date Range -->
                        <div class="flex items-center space-x-2">
                            <input type="date" id="date-range-start" 
                                class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            <span class="text-gray-500">to</span>
                            <input type="date" id="date-range-end" 
                                class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                        </div>

                        <!-- Prediction Window -->
                        <select id="prediction-window" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            <option value="24h">Next 24 Hours</option>
                            <option value="7d">Next 7 Days</option>
                            <option value="30d">Next 30 Days</option>
                        </select>

                        <!-- Export Format -->
                        <select id="export-format" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                            <option value="json">JSON</option>
                            <option value="csv">CSV</option>
                            <option value="excel">Excel</option>
                        </select>

                        <!-- Export Button -->
                        <button id="export-data" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Export Data
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <!-- Overview Cards -->
            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4">
                <!-- Basic Metrics -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <svg class="h-6 w-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div class="ml-5 w-0 flex-1">
                                <dl>
                                    <dt class="text-sm font-medium text-gray-500 truncate">Total Profit</dt>
                                    <dd class="flex items-baseline">
                                        <div class="text-2xl font-semibold text-gray-900">$<span id="total-profit">0.00</span></div>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <div class="flex items-center">
                            <div class="flex-shrink-0">
                                <svg class="h-6 w-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                            </div>
                            <div class="ml-5 w-0 flex-1">
                                <dl>
                                    <dt class="text-sm font-medium text-gray-500 truncate">Success Rate</dt>
                                    <dd class="flex items-baseline">
                                        <div class="text-2xl font-semibold text-gray-900"><span id="success-rate">0.0</span>%</div>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Metrics -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <div class="flex items-center">
                            <div class="ml-5 w-0 flex-1">
                                <dl>
                                    <dt class="text-sm font-medium text-gray-500 truncate">ROI</dt>
                                    <dd class="flex items-baseline">
                                        <div class="text-2xl font-semibold text-gray-900"><span id="roi">0.00</span>%</div>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <div class="flex items-center">
                            <div class="ml-5 w-0 flex-1">
                                <dl>
                                    <dt class="text-sm font-medium text-gray-500 truncate">MEV Savings</dt>
                                    <dd class="flex items-baseline">
                                        <div class="text-2xl font-semibold text-gray-900">$<span id="mev-savings">0.00</span></div>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2">
                <!-- Profit Chart -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Profit History</h3>
                        <div class="mt-4">
                            <canvas id="profit-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Volume Chart -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Trading Volume</h3>
                        <div class="mt-4">
                            <canvas id="volume-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Gas Usage Chart -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Gas Costs</h3>
                        <div class="mt-4">
                            <canvas id="gas-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Performance Radar Chart -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Performance Metrics</h3>
                        <div class="mt-4">
                            <canvas id="performance-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Liquidity Distribution -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Liquidity Distribution</h3>
                        <div class="mt-4">
                            <canvas id="liquidity-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Slippage Analysis -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Slippage Analysis</h3>
                        <div class="mt-4">
                            <canvas id="slippage-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Advanced Analysis Section -->
            <div class="mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2">
                <!-- Profit Distribution Chart -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Profit Distribution</h3>
                        <div class="mt-4">
                            <canvas id="profit-distribution-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Token Pair Correlation Matrix -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Token Pair Correlation</h3>
                        <div class="mt-4">
                            <canvas id="correlation-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Market Depth Analysis -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Market Depth Analysis</h3>
                        <div class="mt-4">
                            <canvas id="market-depth-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Trend Prediction -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg leading-6 font-medium text-gray-900">Trend Prediction</h3>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-500">Confidence Level:</span>
                                <select class="text-sm rounded border-gray-300">
                                    <option value="0.95">95%</option>
                                    <option value="0.90">90%</option>
                                    <option value="0.80">80%</option>
                                </select>
                            </div>
                        </div>
                        <div class="mt-4">
                            <canvas id="trend-prediction-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Anomaly Detection -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <div class="flex justify-between items-center">
                            <h3 class="text-lg leading-6 font-medium text-gray-900">Anomaly Detection</h3>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-500">Sensitivity:</span>
                                <input type="range" min="1" max="100" value="80" 
                                    class="w-24 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            </div>
                        </div>
                        <div class="mt-4">
                            <canvas id="anomaly-detection-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Pattern Analysis -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Trading Pattern Analysis</h3>
                        <div class="mt-4 grid grid-cols-2 gap-4">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="text-sm font-medium text-gray-500">Common Patterns</h4>
                                <ul class="mt-2 space-y-2" id="pattern-list">
                                    <!-- Dynamically populated -->
                                </ul>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="text-sm font-medium text-gray-500">Pattern Details</h4>
                                <div id="pattern-details" class="mt-2">
                                    <!-- Dynamically populated -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Market Conditions -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Market Conditions Analysis</h3>
                        <div class="mt-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="text-sm font-medium text-gray-500">Current Conditions</h4>
                                    <div id="market-conditions" class="mt-2">
                                        <!-- Dynamically populated -->
                                    </div>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="text-sm font-medium text-gray-500">Recommendations</h4>
                                    <div id="market-recommendations" class="mt-2">
                                        <!-- Dynamically populated -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance Metrics -->
            <div class="mt-8 bg-white overflow-hidden shadow rounded-lg">
                <div class="p-5">
                    <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Performance Metrics</h3>
                    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4">
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Execution Success</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="execution-success">0.0</span>%</dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Avg. Profit/Trade</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="avg-profit-per-trade">$0.00</span></dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Profit Consistency</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="profit-consistency">0.00</span></dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Sharpe Ratio</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="sharpe-ratio">0.00</span></dd>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Risk Metrics -->
            <div class="mt-8 bg-white overflow-hidden shadow rounded-lg">
                <div class="p-5">
                    <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Risk Analysis</h3>
                    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4">
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Current Risk Level</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="current-risk-level">Low</span></dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Risk Score</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="risk-score">0.0</span>/100</dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Max Drawdown</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="max-drawdown">0.00</span>%</dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Volatility Index</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="volatility-index">0.00</span></dd>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MEV Protection -->
            <div class="mt-8 bg-white overflow-hidden shadow rounded-lg">
                <div class="p-5">
                    <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">MEV Protection</h3>
                    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4">
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Attempts Blocked</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="mev-attempts-blocked">0</span></dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Total Savings</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="mev-savings-total">$0.00</span></dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Current MEV Risk</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="current-mev-risk">Low (0.0%)</span></dd>
                        </div>
                        <div>
                            <dt class="text-sm font-medium text-gray-500">Sandwich Protection</dt>
                            <dd class="mt-1 text-xl font-semibold text-gray-900"><span id="sandwich-protection">0.0</span>%</dd>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Active Pairs Table -->
            <div class="mt-8 bg-white overflow-hidden shadow rounded-lg">
                <div class="p-5">
                    <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Active Trading Pairs</h3>
                    <div class="flex flex-col">
                        <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
                            <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
                                <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pair</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Volume</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Success Rate</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Avg. Profit</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Current Boost</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Liquidity Score</th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Volatility</th>
                                            </tr>
                                        </thead>
                                        <tbody id="pairs-table-body" class="bg-white divide-y divide-gray-200">
                                            <!-- Table rows will be dynamically inserted here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technical Indicators Section -->
            <div class="mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
                <!-- MACD Chart -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">MACD</h3>
                        <div class="mt-4">
                            <canvas id="macd-chart"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">Signal Line</span>
                                <div id="macd-signal" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Histogram</span>
                                <div id="macd-histogram" class="text-lg font-medium"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- RSI Chart -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">RSI</h3>
                        <div class="mt-4">
                            <canvas id="rsi-chart"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">Current</span>
                                <div id="rsi-value" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Status</span>
                                <div id="rsi-status" class="text-lg font-medium"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bollinger Bands -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Bollinger Bands</h3>
                        <div class="mt-4">
                            <canvas id="bollinger-chart"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-3 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">Upper</span>
                                <div id="bb-upper" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Middle</span>
                                <div id="bb-middle" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Lower</span>
                                <div id="bb-lower" class="text-lg font-medium"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ML Analysis Section -->
            <div class="mt-8 bg-white overflow-hidden shadow rounded-lg">
                <div class="p-5">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Machine Learning Analysis</h3>
                        <div class="flex items-center space-x-4">
                            <select id="ml-model-selector" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                                <option value="pattern">Pattern Recognition</option>
                                <option value="anomaly">Anomaly Detection</option>
                                <option value="trend">Trend Prediction</option>
                            </select>
                            <button id="retrain-model" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Retrain Model
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                        <!-- Pattern Recognition -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h4 class="text-sm font-medium text-gray-500 mb-4">Detected Patterns</h4>
                            <div id="pattern-list" class="space-y-3">
                                <!-- Dynamically populated -->
                            </div>
                        </div>

                        <!-- Model Performance -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h4 class="text-sm font-medium text-gray-500 mb-4">Model Performance</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <span class="text-sm text-gray-500">Accuracy</span>
                                    <div id="model-accuracy" class="text-lg font-medium"></div>
                                </div>
                                <div>
                                    <span class="text-sm text-gray-500">Confidence</span>
                                    <div id="model-confidence" class="text-lg font-medium"></div>
                                </div>
                                <div>
                                    <span class="text-sm text-gray-500">Last Updated</span>
                                    <div id="model-last-update" class="text-lg font-medium"></div>
                                </div>
                                <div>
                                    <span class="text-sm text-gray-500">Training Status</span>
                                    <div id="model-status" class="text-lg font-medium"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Model Visualization -->
                    <div class="mt-6">
                        <canvas id="ml-visualization-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Advanced ML Analysis Section -->
            <div class="mt-8 bg-white overflow-hidden shadow rounded-lg">
                <div class="p-5">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Advanced ML Analysis</h3>
                        <div class="flex items-center space-x-4">
                            <select id="ml-model-type" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                                <option value="lstm">LSTM</option>
                                <option value="transformer">Transformer</option>
                                <option value="ensemble">Ensemble</option>
                            </select>
                            <button id="train-model" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Train Model
                            </button>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
                        <!-- Model Performance Metrics -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h4 class="text-sm font-medium text-gray-500 mb-4">Model Performance</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <span class="text-sm text-gray-500">Training Loss</span>
                                    <div id="training-loss" class="text-lg font-medium"></div>
                                </div>
                                <div>
                                    <span class="text-sm text-gray-500">Validation Loss</span>
                                    <div id="validation-loss" class="text-lg font-medium"></div>
                                </div>
                                <div>
                                    <span class="text-sm text-gray-500">Prediction RMSE</span>
                                    <div id="prediction-rmse" class="text-lg font-medium"></div>
                                </div>
                                <div>
                                    <span class="text-sm text-gray-500">Model Version</span>
                                    <div id="model-version" class="text-lg font-medium"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Feature Importance -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h4 class="text-sm font-medium text-gray-500 mb-4">Feature Importance</h4>
                            <div id="feature-importance-chart"></div>
                        </div>
                    </div>

                    <!-- Model Predictions -->
                    <div class="mt-6">
                        <canvas id="ml-predictions-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Advanced Technical Indicators -->
            <div class="mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
                <!-- Ichimoku Cloud -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Ichimoku Cloud</h3>
                        <div class="mt-4">
                            <canvas id="ichimoku-chart"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">Cloud Direction</span>
                                <div id="cloud-direction" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Signal</span>
                                <div id="ichimoku-signal" class="text-lg font-medium"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Keltner Channels -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">Keltner Channels</h3>
                        <div class="mt-4">
                            <canvas id="keltner-chart"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-2 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">Channel Width</span>
                                <div id="channel-width" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Position</span>
                                <div id="price-position" class="text-lg font-medium"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DMI/ADX -->
                <div class="bg-white overflow-hidden shadow rounded-lg">
                    <div class="p-5">
                        <h3 class="text-lg leading-6 font-medium text-gray-900">DMI/ADX</h3>
                        <div class="mt-4">
                            <canvas id="dmi-chart"></canvas>
                        </div>
                        <div class="mt-4 grid grid-cols-3 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">+DI</span>
                                <div id="plus-di" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">-DI</span>
                                <div id="minus-di" class="text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">ADX</span>
                                <div id="adx-value" class="text-lg font-medium"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Interactive Drill-down Template -->
            <template id="interactive-drilldown-template">
                <div class="grid grid-cols-1 gap-6">
                    <!-- Technical Analysis with Interactive Controls -->
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="text-sm font-medium text-gray-500">Technical Analysis</h4>
                            <div class="flex items-center space-x-2">
                                <select class="indicator-selector rounded-md border-gray-300 text-sm">
                                    <option value="all">All Indicators</option>
                                    <option value="momentum">Momentum</option>
                                    <option value="trend">Trend</option>
                                    <option value="volatility">Volatility</option>
                                </select>
                                <button class="sync-charts-button px-2 py-1 text-sm bg-indigo-100 text-indigo-700 rounded">
                                    Sync Charts
                                </button>
                            </div>
                        </div>
                        <div class="interactive-chart-container" style="height: 400px;">
                            <!-- Interactive chart will be rendered here -->
                        </div>
                        <div class="mt-4 flex space-x-2">
                            <button class="zoom-button px-2 py-1 text-sm bg-gray-200 rounded">1D</button>
                            <button class="zoom-button px-2 py-1 text-sm bg-gray-200 rounded">1W</button>
                            <button class="zoom-button px-2 py-1 text-sm bg-gray-200 rounded">1M</button>
                            <button class="zoom-button px-2 py-1 text-sm bg-gray-200 rounded">3M</button>
                            <button class="zoom-button px-2 py-1 text-sm bg-gray-200 rounded">1Y</button>
                            <button class="zoom-button px-2 py-1 text-sm bg-gray-200 rounded">ALL</button>
                        </div>
                    </div>

                    <!-- Pattern Analysis with Interactive Controls -->
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="text-sm font-medium text-gray-500">Pattern Analysis</h4>
                            <div class="flex items-center space-x-2">
                                <select class="pattern-type-selector rounded-md border-gray-300 text-sm">
                                    <option value="all">All Patterns</option>
                                    <option value="chart">Chart Patterns</option>
                                    <option value="candlestick">Candlestick Patterns</option>
                                    <option value="harmonic">Harmonic Patterns</option>
                                </select>
                                <input type="range" class="confidence-threshold w-24" min="0" max="100" value="75">
                                <span class="text-sm text-gray-500 confidence-value">75%</span>
                            </div>
                        </div>
                        <div class="pattern-chart-container" style="height: 300px;">
                            <!-- Pattern chart will be rendered here -->
                        </div>
                    </div>

                    <!-- ML Predictions with Interactive Controls -->
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="text-sm font-medium text-gray-500">ML Predictions</h4>
                            <div class="flex items-center space-x-2">
                                <select class="model-selector rounded-md border-gray-300 text-sm">
                                    <option value="lstm">LSTM</option>
                                    <option value="transformer">Transformer</option>
                                    <option value="ensemble">Ensemble</option>
                                </select>
                                <select class="prediction-horizon rounded-md border-gray-300 text-sm">
                                    <option value="1h">1 Hour</option>
                                    <option value="4h">4 Hours</option>
                                    <option value="1d">1 Day</option>
                                    <option value="1w">1 Week</option>
                                </select>
                                <button class="compare-models-button px-2 py-1 text-sm bg-indigo-100 text-indigo-700 rounded">
                                    Compare Models
                                </button>
                            </div>
                        </div>
                        <div class="prediction-chart-container" style="height: 300px;">
                            <!-- Prediction chart will be rendered here -->
                        </div>
                        <div class="mt-4 grid grid-cols-3 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">Accuracy</span>
                                <div class="model-accuracy text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Confidence</span>
                                <div class="model-confidence text-lg font-medium"></div>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Error Margin</span>
                                <div class="model-error text-lg font-medium"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </main>
    </div>

    <!-- Drill-down Modal -->
    <div id="drilldown-modal" class="hidden fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center">
        <div class="bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-medium text-gray-900" id="drilldown-title">Detailed Analysis</h3>
                <button id="close-drilldown" class="text-gray-400 hover:text-gray-500">
                    <span class="sr-only">Close</span>
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="drilldown-content">
                <!-- Dynamically populated -->
            </div>
        </div>
    </div>

    <!-- Alert Settings Panel -->
    <div id="alert-settings-panel" class="fixed right-4 top-20 bg-white shadow-lg rounded-lg p-4 w-80 transform translate-x-full transition-transform duration-200">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium text-gray-900">Alert Settings</h3>
            <button class="text-gray-400 hover:text-gray-500" onclick="this.parentElement.parentElement.classList.toggle('translate-x-full')">
                <span class="sr-only">Close</span>
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">Profit Threshold ($)</label>
                <input type="number" id="profit-threshold" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" value="5.0">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Loss Threshold ($)</label>
                <input type="number" id="loss-threshold" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" value="-2.0">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Volatility Threshold (%)</label>
                <input type="number" id="volatility-threshold" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" value="20">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Anomaly Threshold</label>
                <input type="range" id="anomaly-threshold" class="mt-1 block w-full" min="0" max="1" step="0.05" value="0.8">
                <span class="text-sm text-gray-500" id="anomaly-threshold-value">0.8</span>
            </div>
            <div class="flex items-center">
                <input type="checkbox" id="enable-notifications" class="rounded text-indigo-600 focus:ring-indigo-500" checked>
                <label class="ml-2 block text-sm text-gray-900">Enable Notifications</label>
            </div>
        </div>
    </div>

    <!-- Pattern Recognition Settings -->
    <div id="pattern-settings-panel" class="fixed right-4 top-96 bg-white shadow-lg rounded-lg p-4 w-80 transform translate-x-full transition-transform duration-200">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium text-gray-900">Pattern Settings</h3>
            <button class="text-gray-400 hover:text-gray-500" onclick="this.parentElement.parentElement.classList.toggle('translate-x-full')">
                <span class="sr-only">Close</span>
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">Min Pattern Length</label>
                <input type="number" id="min-pattern-length" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" value="3">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Max Pattern Length</label>
                <input type="number" id="max-pattern-length" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" value="10">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Similarity Threshold</label>
                <input type="range" id="similarity-threshold" class="mt-1 block w-full" min="0" max="1" step="0.05" value="0.85">
                <span class="text-sm text-gray-500" id="similarity-threshold-value">0.85</span>
            </div>
        </div>
    </div>

    <!-- Statistical Analysis Section -->
    <div class="mt-8 bg-white overflow-hidden shadow rounded-lg">
        <div class="p-5">
            <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Advanced Statistical Analysis</h3>
            <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
                <!-- Moving Averages -->
                <div>
                    <h4 class="text-sm font-medium text-gray-500 mb-2">Moving Averages</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">7-Day MA</span>
                            <span id="ma-7" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">14-Day MA</span>
                            <span id="ma-14" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">30-Day MA</span>
                            <span id="ma-30" class="font-medium">-</span>
                        </div>
                    </div>
                </div>

                <!-- Volatility Metrics -->
                <div>
                    <h4 class="text-sm font-medium text-gray-500 mb-2">Volatility Metrics</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">Daily Std Dev</span>
                            <span id="std-daily" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">Weekly Std Dev</span>
                            <span id="std-weekly" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">Monthly Std Dev</span>
                            <span id="std-monthly" class="font-medium">-</span>
                        </div>
                    </div>
                </div>

                <!-- Regression Analysis -->
                <div>
                    <h4 class="text-sm font-medium text-gray-500 mb-2">Regression Analysis</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">Trend Coefficient</span>
                            <span id="trend-coef" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">R-Squared</span>
                            <span id="r-squared" class="font-medium">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-700">P-Value</span>
                            <span id="p-value" class="font-medium">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Real-time Alerts Section -->
    <div class="fixed bottom-4 right-4 space-y-2" id="alerts-container">
        <!-- Alert notifications will be dynamically inserted here -->
    </div>

    <script src="js/dashboard.js"></script>
</body>
</html> 